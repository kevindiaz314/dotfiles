packages:
  linux:
    # All pacman packages grouped together for efficiency
    pacman:
      # Terminal & Shell Tools
      - atuin
      - zoxide
      - lazygit
      - zellij
      - yazi
      - chafa
      - satty

      # System Configuration Tools
      - wl-clipboard
      - 7zip
      - resvg
      - playerctl
      - cava
      - brightnessctl
      - libva-utils
      - keyd
      - tailscale
      - ddcutil
      - gpu-screen-recorder
      - zip

      # Niri compositor
      - quickshell
      - niri
      - xdg-desktop-portal-gnome
      - gnome-keyring
      - xdg-desktop-portal-gtk
      - wlsunset
      - xwayland-satellite

      # Applications
      - nextcloud-client
      - ghostty
      - vesktop
      - zen-browser-bin
      - chromium
      - obs-studio-browser
      - zed
      - gnome-shell-extensions
      - gnome-browser-connector
      - cachy-update

      # Development Tools
      - neovim
      - npm
      - deno

      # Fonts (stable packages only)
      - ttf-roboto
      - inter-font

    # All AUR packages grouped together
    aur:
      # Applications
      - oh-my-posh-bin
      - visual-studio-code-bin
      - cursor-bin
      - kiro-bin
      - slack-desktop-wayland
      - vicinae-bin
      - refine
      - spotify
      - helium-browser-bin
      - postman-bin

      # Shell configurations
      - noctalia-shell

      # Fonts (only when needed, check if installed first)
      - ttf-material-symbols-variable-git

    # NPM packages
    npm:
      - "@google/gemini-cli"
      - "opencode-ai"
      - "@github/copilot"
      - "mint"

services:
  linux:
    system:
      - keyd.service
      - tailscaled.service
    user:
      - ssh-agent.service
      - ssh-add.service
      - vicinae.service
      - noctalia.service
    user_wants:
      - base: niri.service
        targets:
          - noctalia.service

configurations:
  linux:
    gtk:
      color-scheme: "prefer-dark"
    keyd:
      config_file: "/etc/keyd/default.conf"
      config_content: |
        [ids]

        0001:0001:09b4e68d

        [main]

        # Maps capslock to escape when pressed and control when held.
        capslock = overload(control, esc)

        # Remaps the escape key to capslock
        esc = capslock

        # Swap alt and control
        leftalt = leftcontrol
        leftcontrol = leftalt
